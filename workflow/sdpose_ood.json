{"id":"1bc4458c-a13c-41de-aa48-4bfd5200441b","revision":0,"last_node_id":49,"last_link_id":88,"nodes":[{"id":39,"type":"SDPoseOODLoader","pos":[1289.6302792843733,1074.49042389591],"size":[270,130],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"model_type","name":"model_type","type":"COMBO","widget":{"name":"model_type"},"link":null},{"localized_name":"unet_precision","name":"unet_precision","type":"COMBO","widget":{"name":"unet_precision"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"unload_on_finish","name":"unload_on_finish","type":"BOOLEAN","widget":{"name":"unload_on_finish"},"link":null}],"outputs":[{"localized_name":"SDPOSE_MODEL","name":"SDPOSE_MODEL","type":"SDPOSE_MODEL","links":[78]}],"properties":{"aux_id":"judian17/ComfyUI-SDPose-OOD","ver":"c5953e1e112665340c642387129f1bc50fcf3dfa","Node name for S&R":"SDPoseOODLoader"},"widgets_values":["WholeBody","bf16","cuda",false]},{"id":32,"type":"VHS_VideoCombine","pos":[2053.780187897038,1155.893272651338],"size":[220.5830078125,704.5920138888889],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":81},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"8550981384301e9bc5bfea83e5c2c75258102593","Node name for S&R":"VHS_VideoCombine","aux_id":"Kosinkadink/ComfyUI-VideoHelperSuite"},"widgets_values":{"frame_rate":30,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00008.mp4","subfolder":"","type":"temp","format":"video/h264-mp4","frame_rate":30,"workflow":"AnimateDiff_00008.png","fullpath":"C:\\mysoft\\ComfyUI\\temp\\AnimateDiff_00008.mp4"}}}},{"id":43,"type":"SDPoseOODProcessor","pos":[1665.7109814515616,1242.9940902845153],"size":[271.396484375,194],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"sdpose_model","name":"sdpose_model","type":"SDPOSE_MODEL","link":78},{"localized_name":"images","name":"images","type":"IMAGE","link":86},{"localized_name":"yolo_model","name":"yolo_model","shape":7,"type":"YOLO_MODEL","link":79},{"localized_name":"score_threshold","name":"score_threshold","type":"FLOAT","widget":{"name":"score_threshold"},"link":null},{"localized_name":"overlay_alpha","name":"overlay_alpha","type":"FLOAT","widget":{"name":"overlay_alpha"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null},{"localized_name":"save_for_editor","name":"save_for_editor","shape":7,"type":"BOOLEAN","widget":{"name":"save_for_editor"},"link":null},{"localized_name":"filename_prefix_edit","name":"filename_prefix_edit","shape":7,"type":"STRING","widget":{"name":"filename_prefix_edit"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","links":[81,83]},{"localized_name":"pose_jsons","name":"pose_jsons","type":"STRING","links":null}],"properties":{"aux_id":"judian17/ComfyUI-SDPose-OOD","ver":"c5953e1e112665340c642387129f1bc50fcf3dfa","Node name for S&R":"SDPoseOODProcessor"},"widgets_values":[0.25,0.6,1,false,"poses/pose_edit"]},{"id":45,"type":"LoadImage","pos":[953.4036000919089,1236.4183223896637],"size":[270,314],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"图像","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"选择文件上传","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":[86]},{"localized_name":"遮罩","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.66","Node name for S&R":"LoadImage"},"widgets_values":["4324.jpg_wh860.jpg","image"]},{"id":44,"type":"Note","pos":[768.8635672319498,1092.3058323914136],"size":[140,60],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["可加载视频或图片"],"color":"#432","bgcolor":"#653"},{"id":48,"type":"VHS_LoadVideo","pos":[668.5159974831329,1232.9852830544562],"size":[253.279296875,738.4962614002146],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"video","name":"video","type":"COMBO","widget":{"name":"video"},"link":null},{"localized_name":"force_rate","name":"force_rate","type":"FLOAT","widget":{"name":"force_rate"},"link":null},{"localized_name":"custom_width","name":"custom_width","type":"INT","widget":{"name":"custom_width"},"link":null},{"localized_name":"custom_height","name":"custom_height","type":"INT","widget":{"name":"custom_height"},"link":null},{"localized_name":"frame_load_cap","name":"frame_load_cap","type":"INT","widget":{"name":"frame_load_cap"},"link":null},{"localized_name":"skip_first_frames","name":"skip_first_frames","type":"INT","widget":{"name":"skip_first_frames"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","type":"INT","widget":{"name":"select_every_nth"},"link":null},{"localized_name":"format","name":"format","shape":7,"type":"COMBO","widget":{"name":"format"},"link":null}],"outputs":[{"localized_name":"图像","name":"IMAGE","type":"IMAGE","links":null},{"localized_name":"frame_count","name":"frame_count","type":"INT","links":null},{"localized_name":"audio","name":"audio","type":"AUDIO","links":null},{"localized_name":"video_info","name":"video_info","type":"VHS_VIDEOINFO","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"8550981384301e9bc5bfea83e5c2c75258102593","Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"19-工程结算，摇一个-1080P 高清-AVC.mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"format":"AnimateDiff","choose video to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"filename":"19-工程结算，摇一个-1080P 高清-AVC.mp4","type":"input","format":"video/mp4","force_rate":0,"custom_width":0,"custom_height":0,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1}}}},{"id":46,"type":"PreviewImage","pos":[2372.82334115019,1235.4932685628598],"size":[140,246],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"图像","name":"images","type":"IMAGE","link":83}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.66","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":49,"type":"Note","pos":[1633.8207482327027,1601.6901637613091],"size":[323.7198247402073,189.52002089557496],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["batch_size最初设计目的为并行运行增加速度，后来发现并行了也没什么区别。可能类似4090这种高算力的能有区别吧。但是修改太麻烦于是保留。正常用1即可。"],"color":"#432","bgcolor":"#653"},{"id":18,"type":"Note","pos":[972.4185330094842,1610.750593487859],"size":[482.0850832122442,181.3797459568913],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["body 模型为17个点的仅身体姿态；wholebody模型为包括面部和手指的133点的姿态\n30系以上显卡推荐bf16，更早的使用fp16。16精度速度不变显存占用降低。\ncpu推理仅可用fp32\nyolo model可选，不使用则处理全图，适合单人；使用则识别各个人在处理，适合多人。\n\nscore threshold控制识别效果\noverlay alpha控制结果图背景可见度。1代表纯黑背景的仅姿态图\nsave for editor选项开启后，可在output/poses下找到pose_edit前缀的姿态json文件，用于https://github.com/judian17/ComfyUI-OpenPose-Editor-jd 此节点导入并编辑姿态。\n注意保存的json格式与输出的字符串类型的pose_json不太一样，后者为项目自带格式，无法用于上述节点的导入编辑"],"color":"#432","bgcolor":"#653"},{"id":40,"type":"YOLOModelLoader","pos":[1236.4224821851594,1439.8407636439233],"size":[270,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"YOLO_MODEL","name":"YOLO_MODEL","type":"YOLO_MODEL","links":[79]}],"properties":{"aux_id":"judian17/ComfyUI-SDPose-OOD","ver":"c5953e1e112665340c642387129f1bc50fcf3dfa","Node name for S&R":"YOLOModelLoader"},"widgets_values":["yolo11x.pt"]}],"links":[[78,39,0,43,0,"SDPOSE_MODEL"],[79,40,0,43,2,"YOLO_MODEL"],[81,43,0,32,0,"IMAGE"],[83,43,0,46,0,"IMAGE"],[86,45,0,43,1,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.351305709310442,"offset":[-731.3159042809098,-877.6236772071939]}},"version":0.4}